<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">

    <th:block th:fragment="modalFragment">

        <div id="modalWrapper" class="fixed hidden z-50 inset-0 bg-gray-900 bg-opacity-60 flex items-center justify-center ">
            <div id="modalContainer" class="relative mx-auto shadow-xl rounded-md bg-white">

                <div class="flex justify-end p-2">
                    <button onclick="gfnCloseModal()" type="button"
                            class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                                  d="M10 18a8 8 0 100-16 8 8 0 000 16zm1.707-10.293a1 1 0 00-1.414 0L9 9.586 7.707 8.293a1 1 0 10-1.414 1.414L9 12.414l4-4a1 1 0 000-1.414z"
                                  clip-rule="evenodd"></path>
                        </svg>
                    </button>
                </div>

                <div class="p-6 pt-0 text-center">
                    <svg class="w-20 h-20 text-red-600 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                         xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <!-- ===== Message Start ===== -->
                    <h3 class="text-xl font-normal text-gray-800 mt-5 mb-8" id="modal-message">
                        Are you sure you want to delete this user?
                    </h3>
                    <!-- ===== Message End ===== -->

                    <!-- ===== Button Start ===== -->
                    <div class="space-x-3">
                        <button onclick="fnOkModal()"
                           class="text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-md text-base inline-flex items-center px-5 py-3 text-center">
                            Yes, I'm sure
                        </button>
                        <button onclick="gfnCloseModal()"
                           class="text-gray-900 bg-white hover:bg-gray-100 focus:ring-4 focus:ring-cyan-200 border border-gray-500 font-medium inline-flex items-center rounded-lg text-base px-5 py-3 text-center"
                           data-modal-toggle="delete-user-modal">
                            No, cancel
                        </button>
                    </div>
                    <!-- ===== Button End ===== -->
                </div>

            </div>
        </div>


        <script>

            const gfnOpenModal = (message, callback) => {
                document.getElementById('modal-message').innerText = message;
                document.getElementById('modalWrapper').callback = callback;
                document.getElementById('modalWrapper').style.display = 'flex';
                document.getElementsByTagName('body')[0].classList.add('overflow-y-hidden');
            }

            const gfnCloseModal = () => {
                document.getElementById('modalWrapper').style.display = 'none';
                document.getElementsByTagName('body')[0].classList.remove('overflow-y-hidden');
            }


            const fnOkModal = () => {
                gfnCloseModal();

                // 콜백 함수 호출
                if (document.getElementById('modalWrapper').callback) {
                    document.getElementById('modalWrapper').callback();
                }

            }


        </script>

    </th:block>

</html>